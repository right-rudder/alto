---
const { data } = Astro.props;
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";
import CourseInfo from "../components/CourseInfo";
import CourseCard from "../components/CourseCard.astro";
import { courses } from "../data/coursesData";
const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/*.{jpeg,jpg,png,gif,webp}",
);
---

<section class="py-12 px-5">
  <div class="max-w-7xl mx-auto text-dark-blue">
    <div class="flex justify-between py-10">
      <h2 class="font-bold text-3xl">{data.date}</h2>
      <p class="font-extrabold text-3xl">
        {data.price}
        <span class="text-base">/month</span>
      </p>
    </div>
    <p class="paragraph py-5">{data.intro}</p>
    <div class="">
      <Image
        src={images[data.primaryImage]()}
        alt={data.primaryAlt}
        class="object-cover max-h-[36rem]"
      />
    </div>
    <div class="py-5 flex flex-col gap-3">
      {data.content.map((paragraph) => <p class="paragraph">{paragraph}</p>)}
    </div>
  </div>
</section>

<hr class="border-t max-w-7xl mx-auto border-gray-300" />

<section class="py-12 px-5">
  <div class="max-w-xl lg:max-w-7xl mx-auto text-dark-blue">
    <h2 class="font-extrabold text-5xl">Course Additional Info</h2>
    <div class="flex flex-col lg:flex-row gap-10 mt-10">
      <div class="lg:flex-1 flex flex-col">
        <CourseInfo data={data} client:visible />
      </div>
      <div class="lg:flex-1">
        <Image
          src={images[data.secondaryImage]()}
          alt={data.secondaryAlt}
          class="object-cover max-h-[36rem]"
        />
      </div>
    </div>
  </div>
</section>

<hr class="border-t max-w-7xl mx-auto border-gray-300" />

<section class="py-12 px-5">
  <div class="max-w-xl lg:max-w-7xl mx-auto text-dark-blue">
    <h2 class="font-extrabold text-5xl">Future Pathways</h2>
    <div class="flex flex-col lg:flex-row gap-10 mt-10">
      {courses.map((course) => <CourseCard course={course} />)}
    </div>
  </div>
</section>

<section class="bg-red-700 py-12 px-5">
  <div
    class="max-w-xl lg:max-w-7xl mx-auto flex flex-col lg:flex-row gap-5 lg:gap-20 items-center"
  >
    <h3 class="text-white font-bold text-3xl flex-1">
      Hurry up! New courses will start on June 17, 2024
    </h3>
    <div class="flex relative flex-1 w-full">
      <input
        type="text"
        placeholder="Your email"
        class="px-5 py-4 w-full outline-1 border-gray-300 border outline-gray-400 rounded-full"
      />
      <button
        type="submit"
        class="btn-dark-blue px-8 absolute right-[1px] py-4 top-[1px]"
      >
        Subscribe
      </button>
    </div>
  </div>
</section>
